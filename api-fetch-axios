const express = require('express');
const axios = require('axios');

const app = express();

const openaiUrl= 'https://api.openai.com/v1/engines';
const API_KEY = '';
const ORG_ID = 'org-P533oUUjUCTr4feSPvlg7VKW';

const input = "Say that I like Asis";

axios({
    url: openaiUrl,
    method: 'get',
    headers: {'Authorization': 'Bearer ' + API_KEY,
    'OpenAI-Organization': ORG_ID},
    withCredentials: true, // default is false
    responseType: 'json', // default
    responseEncoding: 'utf8', // default
  })
    .then(function (response) {
      console.log('SUCCESS')
    });

axios({
  method: 'post',
  url: 'https://api.openai.com/v1/engines/text-davinci-002/completions',
  headers: {
    'Authorization': 'Bearer ' + API_KEY,
    'Content-Type': 'application/json'},
  data : {
    prompt: input,
    temperature: 0,
    max_tokens: 6
  },
})
.then(function (response) {
  console.log('----- REQUEST -----' + response)
  console.log(response.status)
  console.log(response.statusText)
  console.log(response.data.choices[0].text)
});

// working independently